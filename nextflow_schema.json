{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/LiuzLab/AI_MARRVEL/main/nextflow_schema.json",
  "title": "LiuzLab/AI_MARRVEL pipeline parameters",
  "description": "AI-MARRVEL (AIM) is an AI system for rare genetic disease diagnosis.",
  "type": "object",
  "$defs": {
    "input": {
      "title": "Input",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "input_vcf": {
          "type": "string",
          "description": "Path to input VCF file.",
          "pattern": "^\\S+\\.vcf(.gz)?$",
          "format": "file-path"
        },
        "input_phenopacket": {
          "type": "string",
          "description": "Path to input phenopacket JSON file.",
          "pattern": "^\\S+\\.json?$",
          "format": "file-path"
        },
        "input_variant": {
          "type": "string",
          "description": "Input variant in the format 'chrom-pos-ref-alt', e.g., '1-123456-A-T'.",
          "pattern": "^(\\S+)_(\\S+)_(\\S+)_(\\S+)$"
        },
        "input_hpo": {
          "type": "string",
          "description": "Path to input HPO file.",
          "format": "file-path"
        },
        "input_ped": {
          "type": "string",
          "description": "Path to the pedgree file for trio mode",
          "format": "file-path"
        },
        "outdir": {
          "type": "string",
          "default": "./out",
          "description": "Output directory."
        },
        "storedir": {
          "type": "string",
          "default": "./store",
          "description": "Path to a shared directory for intermediate files. Reusing this directory across runs skips regenerating common files and cuts runtime."
        },
        "ref_dir": {
          "type": "string",
          "description": "Path to aim pipeline dependencies directory.",
          "format": "directory-path"
        },
        "s3_bucket_data_name": {
          "type": "string",
          "default": "aim-data-dependencies-2.4-public",
          "description": "[Not Implemented] S3 bucket name to aim pipeline dependencies directory.",
          "format": "path",
          "hidden": true
        },
        "run_id": {
          "type": "string",
          "default": "1",
          "description": "Unique identifier for this run."
        },
        "ref_ver": {
          "type": "string",
          "default": "hg19",
          "enum": ["hg19", "hg38"],
          "description": "Reference genome version"
        },
        "bed_filter": {
          "type": "string",
          "description": "Path to a BED file to perform an analysis only for regions of interest"
        },
        "exome_filter": {
          "type": "boolean",
          "description": "Enable exonic filter. Addition will filter out variants outside of exonic region"
        },
        "impact_filter": {
          "type": "boolean",
          "description": "Enable low impact. Addition will enable low impact transcripts."
        }
      },
      "required": ["outdir", "ref_dir", "run_id", "ref_ver"]
    },
    "generic_options": {
      "title": "Generic options",
      "type": "object",
      "fa_icon": "fas fa-file-import",
      "description": "Less common options for the pipeline, typically set in a config file.",
      "help_text": "These options are common to all nf-core pipelines and allow you to customise some of the core preferences for how the pipeline runs.\n\nTypically these options would be set in a Nextflow config file loaded for all pipeline runs, such as `~/.nextflow/config`.",
      "properties": {
        "version": {
          "type": "boolean",
          "description": "Display version and exit.",
          "fa_icon": "fas fa-question-circle",
          "hidden": true
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/$defs/input"
    },
    {
      "$ref": "#/$defs/generic_options"
    }
  ]
}
